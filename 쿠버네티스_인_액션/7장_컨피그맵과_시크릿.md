### 컨테이너에서 환경변수를 사용하는 이유

- 설정 파일을 사용하면 컨테이너 이미지 안에 포함하거나 파일이 포함되어 있는 볼륨을 컨테이너에 마운트 해야 함
- 설정 파일을 이미지에 넣고 빌드 하게 되면, 이미지에 접근할 수 있는 사람들은 모두 시크릿 정보들을 볼 수 있다.
- 볼륨을 사용하게 되면, 컨테이너를 시작하기 전에 파일이 볼륨에 기록되어 있는지 확인하는 절차가 필요하다.

## 컨테이너 환경변수 설정

컨테이너 설정 시, 쿠버네티스는 기본적으로 자동 주입식 설정으로, 동일 네임스페이스의 서비스에 환경변수를 노출한다. 

## 컨피그맵

설정 데이터를 저장하는 쿠버네티스 리소스를 컨피그맵이라고 한다.

- 환경에 따라 다르거나 자주 변경되는 설정 옵션을 어플리케이션 소스 코드와 별도 유지하기 위해
- 모든 환경에서 동일한 파드 정의를 사용하여 각 환경에서 서로 다른 설정을 사용하기 위해

### 컨테이너에서 컨피그맵 참조 방법

- valueFrom을 사용하여 key값으로 참조
- envFrom을 사용하여 모든 항목을 참조
- 명령줄 인자로 참조
- 컨피그맵 볼륨을 사용
    - 파드를 다시 만들거나 컨테이너를 다시 시작할 필요 없이 설정 업데이트 가능
    - 심볼릭 링크를 사용하여 변경됨

## 시크릿

보안에 민감한 정보들을 보관하고 배포하기 위한 오브젝트

시크릿에 접근해야 하는 파드가 실행되는 노드에만 메모리에 저장하고 물리 저장소엔 기록하지 않는다. (인메모리 파일시스템 사용)

마스터 노드의 ercd에 시크릿을 암호화된 형태로 저장한다.

Base64인코딩을 사용하여 저장
